{"version":3,"file":"static/webpack/static/development/pages/_app.js.20179a70b218f7583bfc.hot-update.js","sources":["webpack:///./src/services/github.js"],"sourcesContent":["import { observable, action, computed } from 'mobx';\nimport fetch from 'isomorphic-unfetch';\n\nclass GithubService {\n  size = 5;\n\n  @observable response = [];\n\n  @observable page = 1;\n\n  @observable isLoaded = false;\n\n  @observable hasError = false;\n\n  constructor(\n    initialData = { response: [], isLoaded: false, hasError: false },\n  ) {\n    if (initialData) {\n      this.response = initialData.response;\n      this.isLoaded = initialData.isLoaded;\n      this.hasError = initialData.hasError;\n    }\n  }\n\n  @action async fetch() {\n    this.isLoaded = false;\n    this.hasError = false;\n    this.page = 1;\n\n    const resp = await fetch(\n      'https://api.github.com/repos/ShadOoW/web-starter-kit/commits',\n    );\n    this.response = await resp.json();\n    if (this.response.constructor === Array) {\n      this.isLoaded = true;\n    } else {\n      this.hasError = true;\n    }\n  }\n\n  @action showMore() {\n    this.page += 1;\n  }\n\n  @computed get canShowMore() {\n    return this.page * this.size < this.response.length;\n  }\n\n  @computed get commits() {\n    return this.response.slice(\n      0,\n      this.page * this.size > this.response.length\n        ? this.response.length\n        : this.page * this.size,\n    );\n  }\n\n  data() {\n    return {\n      response: this.response,\n      isLoaded: this.isLoaded,\n      hasError: this.hasError,\n    };\n  }\n}\n\nexport default GithubService;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;;;AAWA;AAEA;AADA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA;AACA;AACA;;AAEA;AACA;;AADA;;AAGA;AACA;;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAEA;AACA;AACA;;;AAeA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAnBA;AACA;AACA;;;AAEA;AACA;AAMA;;;;AAjDA;;;;;AAAA;;AAEA;;;;;AAAA;;AAEA;;;;;AAAA;;AAEA;;;;;AAAA;;AAYA;AA0CA;;;;A","sourceRoot":""}